language: cpp
compiler: clang
sudo: required
dist: trusty

os:
  - linux
  - osx

addons:
  apt:
    sources:
      - boost-latest
    packages:
      - libboost1.55-dev
      - libboost-filesystem1.55-dev

before_install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update                                         ; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install jpeg osxfuse cryptopp; fi

  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-key adv --recv-keys --keyserver keyserver.ubuntu.com 3B4FE6ACC0B21F32 40976EAF437D05B5 ; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get -qq update                                                        ; fi
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get install -y libbsd-dev libjpeg-dev libfuse-dev libcrypto++-dev; fi

script: make